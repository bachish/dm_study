# B-tree
Сильноветвящиеся сбалансированные деревья поиска, позволяющие сократить обращение к диску при обработке данных. 

B-дерево было впервые предложено Р. Бэйером и Е. МакКрейтом в 1970 году

## Структура
B-дерево является идеально сбалансированным, то есть глубина всех его листьев одинакова.

* t >= 2 - минимальная степень В-дерева
* Все листья на одном уровне
* Каждый узел, кроме корня содержит от t−1 до 2t−1 ключей
* каждый внутренний узел имеет от t до 2t дочерних узлов
* Если дерево не является пустым, корень содержит от 1  до 2t−1 ключей, при высота больше 0 от 2  до 2t детей
```python

   struct Node
   bool leaf    // является ли узел листом
   int  n       // количество ключей узла
   int  key[]   // ключи узла
   Node c[]     // указатели на детей узла

   struct BTree
   int  t       // минимальная степень дерева
   Node root    // указатель на корень дерева
```
## Вставка ключа
Ищем необходимый узел, разбивая все переполнившиеся по пути узлы.
## Разбиение
Имеем: ссылку на родителя, индекс переполненного ребенка. Разделяем ребенка на два. При этом средний ключ (медиана) перемещается в родительский.

Для разбиения корня вводим для него пустого родителя, при этом высота дерева увеличивается на 1.

## Вариации
### Классическое
В B-дереве вместе с ключом может храниться только указатель на другую дисковую страницу, содержащую сопутствующую информацию для данного ключа.

### B+ дерево
вся сопутствующая информация хранится в листьях, а во внутренних узлах хранятся только ключи и указатели на дочерние узлы

имеют очень высокий коэффициент ветвления (число указателей из родительского узла на дочерние, обычно порядка 100 или более), что снижает количество операций ввода-вывода, требующих поиска элемента в дереве.
```python
   struct Node
   bool leaf       // является ли узел листом
   int  key_num    // количество ключей узла
   int  key[]      // ключи узла
   Node parent     // указатель на отца
   Node child[]    // указатели на детей узла
   Info pointers[] // если лист — указатели на данные
   Node left       // указатель на левого брата
   Node right      // указатель на правого брата
```
###